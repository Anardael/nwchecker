!function(e){"use strict";var t=function(e){var t=arguments,n=true,r=1;e=e.replace(/%s/g,function(){var e=t[r++];if(typeof e==="undefined"){n=false;return""}return e});return n?e:""};var n=function(t,n,r,i){var s="";e.each(t,function(e,t){if(t[n]===i){s=t[r];return false}return true});return s};var r=function(t,n){var r=-1;e.each(t,function(e,t){if(t.field===n){r=e;return false}return true});return r};var i=function(){var t=e("<p/>").addClass("fixed-table-scroll-inner"),n=e("<div/>").addClass("fixed-table-scroll-outer"),r,i;n.append(t);e("body").append(n);r=t[0].offsetWidth;n.css("overflow","scroll");i=t[0].offsetWidth;if(r===i){i=n[0].clientWidth}n.remove();return r-i};var s=function(t,n,r,i){if(typeof n==="string"){var s=n.split(".");if(s.length>1){n=window;e.each(s,function(e,t){n=n[t]})}else{n=window[n]}}if(typeof n==="object"){return n}if(typeof n==="function"){return n.apply(t,r)}return i};var o=function(e){if(typeof e==="string"){return e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return e};var u=function(t,n){this.options=n;this.$el=e(t);this.$el_=this.$el.clone();this.timeoutId_=0;this.init()};u.DEFAULTS={classes:"table table-hover",height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",striped:false,columns:[],data:[],method:"get",url:undefined,cache:true,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:false,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],search:false,searchAlign:"right",clearSearch:false,selectItemName:"btSelectItem",showHeader:true,showColumns:false,showPaginationSwitch:false,showRefresh:false,showToggle:false,buttonsAlign:"right",smartDisplay:true,minimumCountColumns:1,idField:undefined,cardView:false,trimOnSearch:true,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"left",checkboxHeader:true,sortable:true,maintainSelected:false,searchTimeOut:500,iconSize:undefined,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",clearSearch:"glyphicon-remove-circle icon-remove-circle",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},onAll:function(e,t){return false},onClickRow:function(e,t){return false},onDblClickRow:function(e,t){return false},onSort:function(e,t){return false},onCheck:function(e){return false},onUncheck:function(e){return false},onCheckAll:function(){return false},onUncheckAll:function(){return false},onLoadSuccess:function(e){return false},onLoadError:function(e){return false},onColumnSwitch:function(e,t){return false},onPageChange:function(e,t){return false},onSearch:function(e){return false},onPreBody:function(e){return false},onPostBody:function(){return false}};u.LOCALES=[];u.LOCALES["en-US"]={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return t("%s records per page",e)},formatShowingRows:function(e,n,r){return t("Showing %s to %s of %s rows",e,n,r)},formatSearch:function(){return"Search"},formatClearSearch:function(){return"Clear search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"}};e.extend(u.DEFAULTS,u.LOCALES["en-US"]);u.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,"class":undefined,align:undefined,halign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:true};u.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody"};u.prototype.init=function(){this.initContainer();this.initTable();this.initHeader();this.initData();this.initToolbar();this.initPagination();this.initBody();this.initServer()};u.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>','<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-pagination"></div>',"</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$container.find(".fixed-table-body").append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$loading=this.$container.find(".fixed-table-loading");this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}};u.prototype.initTable=function(){var t=this,n=[],r=[];this.$header=this.$el.find("thead");if(!this.$header.length){this.$header=e("<thead></thead>").appendTo(this.$el)}if(!this.$header.find("tr").length){this.$header.append("<tr></tr>")}this.$header.find("th").each(function(){var t=e.extend({},{title:e(this).html(),"class":e(this).attr("class")},e(this).data());n.push(t)});this.options.columns=e.extend([],n,this.options.columns);e.each(this.options.columns,function(n,r){t.options.columns[n]=e.extend({},u.COLUMN_DEFAULTS,{field:n},r)});if(this.options.data.length){return}this.$el.find("tbody tr").each(function(){var n={};n._id=e(this).attr("id");n._class=e(this).attr("class");e(this).find("td").each(function(r){var i=t.options.columns[r].field;n[i]=e(this).html();n["_"+i+"_id"]=e(this).attr("id");n["_"+i+"_class"]=e(this).attr("class")});r.push(n)});this.options.data=r};u.prototype.initHeader=function(){var n=this,r=[],i=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};e.each(this.options.columns,function(e,s){var o="",u="",a="",f="",l=t(' class="%s"',s["class"]),c=n.options.sortOrder||s.order,h=true;if(!s.visible){return}u=t("text-align: %s; ",s.halign?s.halign:s.align);a=t("text-align: %s; ",s.align);f=t("vertical-align: %s; ",s.valign);f+=t("width: %spx; ",s.checkbox||s.radio?36:s.width);r.push(s);n.header.fields.push(s.field);n.header.styles.push(a+f);n.header.classes.push(l);n.header.formatters.push(s.formatter);n.header.events.push(s.events);n.header.sorters.push(s.sorter);n.header.cellStyles.push(s.cellStyle);n.header.clickToSelects.push(s.clickToSelect);n.header.searchables.push(s.searchable);i.push("<th",s.checkbox||s.radio?t(' class="bs-checkbox %s"',s["class"]||""):l,t(' style="%s"',u+f),">");i.push(t('<div class="th-inner %s">',n.options.sortable&&s.sortable?"sortable":""));o=s.title;if(n.options.sortName===s.field&&n.options.sortable&&s.sortable){o+=n.getCaretHtml()}if(s.checkbox){if(!n.options.singleSelect&&n.options.checkboxHeader){o='<input name="btSelectAll" type="checkbox" />'}n.header.stateField=s.field}if(s.radio){o="";n.header.stateField=s.field;n.options.singleSelect=true}i.push(o);i.push("</div>");i.push('<div class="fht-cell"></div>');i.push("</th>")});this.$header.find("tr").html(i.join(""));this.$header.find("th").each(function(t){e(this).data(r[t])});this.$container.off("click","th").on("click","th",function(t){if(n.options.sortable&&e(this).data().sortable){n.onSort(t)}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$container.find(".fixed-table-header").hide();this.$loading.css("top",0)}else{this.$header.show();this.$container.find(".fixed-table-header").show();this.$loading.css("top","37px")}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var t=e(this).prop("checked");n[t?"checkAll":"uncheckAll"]()})};u.prototype.initData=function(e,t){if(t==="append"){this.data=this.data.concat(e)}else if(t==="prepend"){this.data=e.concat(this.data)}else{this.data=e||this.options.data}this.options.data=this.data;if(this.options.sidePagination==="server"){return}this.initSort()};u.prototype.initSort=function(){var t=this,n=this.options.sortName,r=this.options.sortOrder==="desc"?-1:1,i=e.inArray(this.options.sortName,this.header.fields);if(i!==-1){this.data.sort(function(o,u){var a=o[n],f=u[n],l=s(t.header,t.header.sorters[i],[a,f]);if(l!==undefined){return r*l}if(e.isNumeric(a)){a=parseFloat(a)}if(e.isNumeric(f)){f=parseFloat(f)}if(a===undefined||a===null){a=""}if(f===undefined||f===null){f=""}if(e.isNumeric(a)&&e.isNumeric(f)){if(a<f){return r*-1}return r}if(a===f){return 0}if(a.localeCompare(f)===-1){return r*-1}return r})}};u.prototype.onSort=function(t){var n=e(t.currentTarget),r=this.$header.find("th").eq(n.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===n.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=n.data("field");this.options.sortOrder=n.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);n.add(r).data("order",this.options.sortOrder).find(".th-inner").append(this.getCaretHtml());if(this.options.sidePagination==="server"){this.initServer();return}this.initSort();this.initBody()};u.prototype.initToolbar=function(){var n=this,r=[],i=0,o,u,a=0;this.$toolbar=this.$container.find(".fixed-table-toolbar").html("");if(typeof this.options.toolbar==="string"){e(t('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar))}r=[t('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)];if(typeof this.options.icons==="string"){this.options.icons=s(null,this.options.icons)}if(this.options.showRefresh){r.push(t('<button class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),t('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){r.push(t('<button class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),t('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){r.push(t('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',t('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');e.each(this.options.columns,function(e,n){if(n.radio||n.checkbox){return}var i=n.visible?' checked="checked"':"";if(n.switchable){r.push(t("<li>"+'<label><input type="checkbox" data-field="%s" value="%s"%s> %s</label>'+"</li>",n.field,e,i,n.title));a++}});r.push("</ul>","</div>")}r.push("</div>");if(this.showToolbar||r.length>2){this.$toolbar.append(r.join(""))}if(this.options.showPaginationSwitch){this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){n.options.cardView=!n.options.cardView;n.initHeader();n.initBody()})}if(this.options.showColumns){o=this.$toolbar.find(".keep-open");if(a<=this.options.minimumCountColumns){o.find("input").prop("disabled",true)}o.find("li").off("click").on("click",function(e){e.stopImmediatePropagation()});o.find("input").off("click").on("click",function(){var t=e(this);n.toggleColumn(t.val(),t.prop("checked"),false);n.trigger("column-switch",e(this).data("field"),t.prop("checked"))})}if(this.options.search){r=[];r.push('<div class="pull-'+this.options.searchAlign+' search"><div class="form-inline">',t('<input class="form-control'+(this.options.iconSize==undefined?"":" input-"+this.options.iconSize)+'" name="search" type="text" placeholder="%s">',this.options.formatSearch()));if(this.options.clearSearch){r.push(t('<button class="form-control btn btn-default'+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+'" type="button" name="clearSearch" title="%s">',this.options.formatClearSearch()),t('<span class="%s %s"></span>',this.options.iconsPrefix,this.options.icons.clearSearch),"</button>")}r.push("</div></div>");this.$toolbar.append(r.join(""));u=this.$toolbar.find(".search input");u.off("keyup").on("keyup",function(e){clearTimeout(i);i=setTimeout(function(){n.onSearch(e)},n.options.searchTimeOut)});if(this.options.clearSearch){this.$toolbar.find('button[name="clearSearch"]').off("click").on("click",function(){u.val("");u.keyup()})}}};u.prototype.onSearch=function(t){var n=e.trim(e(t.currentTarget).val());if(this.options.trimOnSearch){e(t.currentTarget).val(n)}if(n===this.searchText){return}this.searchText=n;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",n)};u.prototype.initSearch=function(){var t=this;if(this.options.sidePagination!=="server"){var n=this.searchText&&this.searchText.toLowerCase();var r=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=r?e.grep(this.options.data,function(e,t){for(var n in r){if(e[n]!==r[n]){return false}}return true}):this.options.data;this.data=n?e.grep(this.data,function(r,i){for(var o in r){o=e.isNumeric(o)?parseInt(o,10):o;var u=r[o];u=s(t.header,t.header.formatters[e.inArray(o,t.header.fields)],[u,r,i],u);var a=e.inArray(o,t.header.fields);if(a!==-1&&t.header.searchables[a]&&(typeof u==="string"||typeof u==="number")&&(u+"").toLowerCase().indexOf(n)!==-1){return true}}return false}):this.data}};u.prototype.initPagination=function(){this.$pagination=this.$container.find(".fixed-table-pagination");if(!this.options.pagination){this.$pagination.hide();return}else{this.$pagination.show()}var n=this,r=[],i,s,o,u,a,f,l,c,h,p=this.getData();if(this.options.sidePagination!=="server"){this.options.totalRows=p.length}this.totalPages=0;if(this.options.totalRows){this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1;this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}r.push('<div class="pull-left pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");r.push('<span class="page-list">');var d=['<span class="btn-group dropup">','<button type="button" class="btn btn-default '+(this.options.iconSize==undefined?"":" btn-"+this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],v=this.options.pageList;if(typeof this.options.pageList==="string"){var m=this.options.pageList.slice(1,-1).replace(/ /g,"").split(",");v=[];e.each(m,function(e,t){v.push(+t)})}e.each(v,function(e,r){if(!n.options.smartDisplay||e===0||v[e-1]<=n.options.totalRows){var i=r===n.options.pageSize?' class="active"':"";d.push(t('<li%s><a href="javascript:void(0)">%s</a></li>',i,r))}});d.push("</ul></span>");r.push(this.options.formatRecordsPerPage(d.join("")));r.push("</span>");r.push("</div>",'<div class="pull-right pagination">','<ul class="pagination'+(this.options.iconSize==undefined?"":" pagination-"+this.options.iconSize)+'">','<li class="page-first"><a href="javascript:void(0)">&lt;&lt;</a></li>','<li class="page-pre"><a href="javascript:void(0)">&lt;</a></li>');if(this.totalPages<5){s=1;o=this.totalPages}else{s=this.options.pageNumber-2;o=s+4;if(s<1){s=1;o=5}if(o>this.totalPages){o=this.totalPages;s=o-4}}for(i=s;i<=o;i++){r.push('<li class="page-number'+(i===this.options.pageNumber?" active disabled":"")+'">','<a href="javascript:void(0)">',i,"</a>","</li>")}r.push('<li class="page-next"><a href="javascript:void(0)">&gt;</a></li>','<li class="page-last"><a href="javascript:void(0)">&gt;&gt;</a></li>',"</ul>","</div>");this.$pagination.html(r.join(""));u=this.$pagination.find(".page-list a");a=this.$pagination.find(".page-first");f=this.$pagination.find(".page-pre");l=this.$pagination.find(".page-next");c=this.$pagination.find(".page-last");h=this.$pagination.find(".page-number");if(this.options.pageNumber<=1){a.addClass("disabled");f.addClass("disabled")}if(this.options.pageNumber>=this.totalPages){l.addClass("disabled");c.addClass("disabled")}if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(this.options.pageList.length<2||this.options.totalRows<=this.options.pageList[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}u.off("click").on("click",e.proxy(this.onPageListChange,this));a.off("click").on("click",e.proxy(this.onPageFirst,this));f.off("click").on("click",e.proxy(this.onPagePre,this));l.off("click").on("click",e.proxy(this.onPageNext,this));c.off("click").on("click",e.proxy(this.onPageLast,this));h.off("click").on("click",e.proxy(this.onPageNumber,this))};u.prototype.updatePagination=function(t){if(t&&e(t.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageSize,this.options.pageNumber)};u.prototype.onPageListChange=function(t){var n=e(t.currentTarget);n.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=+n.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(t)};u.prototype.onPageFirst=function(e){this.options.pageNumber=1;this.updatePagination(e)};u.prototype.onPagePre=function(e){this.options.pageNumber--;this.updatePagination(e)};u.prototype.onPageNext=function(e){this.options.pageNumber++;this.updatePagination(e)};u.prototype.onPageLast=function(e){this.options.pageNumber=this.totalPages;this.updatePagination(e)};u.prototype.onPageNumber=function(t){if(this.options.pageNumber===+e(t.currentTarget).text()){return}this.options.pageNumber=+e(t.currentTarget).text();this.updatePagination(t)};u.prototype.initBody=function(i){var u=this,a=[],f=this.getData();this.trigger("pre-body",f);this.$body=this.$el.find("tbody");if(!this.$body.length){this.$body=e("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=f.length}for(var l=this.pageFrom-1;l<this.pageTo;l++){var c=f[l],h={},p=[],d={},v=[];h=s(this.options,this.options.rowStyle,[c,l],h);if(h&&h.css){for(var m in h.css){p.push(m+": "+h.css[m])}}d=s(this.options,this.options.rowAttributes,[c,l],d);if(d){for(var m in d){v.push(t('%s="%s"',m,o(d[m])))}}a.push("<tr",t(" %s",v.join(" ")),t(' id="%s"',e.isArray(c)?undefined:c._id),t(' class="%s"',h.classes||(e.isArray(c)?undefined:c._class)),t(' data-index="%s"',l),">");if(this.options.cardView){a.push(t('<td colspan="%s">',this.header.fields.length))}e.each(this.header.fields,function(e,i){var o="",f=c[i],d="",v={},m="",g=u.header.classes[e],y=u.options.columns[r(u.options.columns,i)];h=t('style="%s"',p.concat(u.header.styles[e]).join("; "));f=s(u.header,u.header.formatters[e],[f,c,l],f);if(c["_"+i+"_id"]){m=t(' id="%s"',c["_"+i+"_id"])}if(c["_"+i+"_class"]){g=t(' class="%s"',c["_"+i+"_class"])}v=s(u.header,u.header.cellStyles[e],[f,c,l],v);if(v.classes){g=t(' class="%s"',v.classes)}if(v.css){p=[];for(var b in v.css){p.push(b+": "+v.css[b])}h=t('style="%s"',p.concat(u.header.styles[e]).join("; "))}if(y.checkbox||y.radio){if(u.options.cardView){return true}d=y.checkbox?"checkbox":d;d=y.radio?"radio":d;o=['<td class="bs-checkbox">',"<input"+t(' data-index="%s"',l)+t(' name="%s"',u.options.selectItemName)+t(' type="%s"',d)+t(' value="%s"',c[u.options.idField])+t(' checked="%s"',f===true||f&&f.checked?"checked":undefined)+t(' disabled="%s"',!y.checkboxEnabled||f&&f.disabled?"disabled":undefined)+" />","</td>"].join("")}else{f=typeof f==="undefined"||f===null?u.options.undefinedText:f;o=u.options.cardView?['<div class="card-view">',u.options.showHeader?t('<span class="title" %s>%s</span>',h,n(u.options.columns,"field","title",i)):"",t('<span class="value">%s</span>',f),"</div>"].join(""):[t("<td%s %s %s>",m,g,h),f,"</td>"].join("");if(u.options.cardView&&u.options.smartDisplay&&f===""){o=""}}a.push(o)});if(this.options.cardView){a.push("</td>")}a.push("</tr>")}if(!a.length){a.push('<tr class="no-records-found">',t('<td colspan="%s">%s</td>',this.header.fields.length,this.options.formatNoMatches()),"</tr>")}this.$body.html(a.join(""));if(!i){this.scrollTo(0)}this.$body.find("> tr > td").off("click").on("click",function(){var n=e(this).parent();u.trigger("click-row",u.data[n.data("index")],n);if(u.options.clickToSelect){if(u.header.clickToSelects[n.children().index(e(this))]){n.find(t('[name="%s"]',u.options.selectItemName))[0].click()}}});this.$body.find("tr").off("dblclick").on("dblclick",function(){u.trigger("dbl-click-row",u.data[e(this).data("index")],e(this))});this.$selectItem=this.$body.find(t('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var n=e(this).prop("checked"),r=u.data[e(this).data("index")];r[u.header.stateField]=n;u.trigger(n?"check":"uncheck",r);if(u.options.singleSelect){u.$selectItem.not(this).each(function(){u.data[e(this).data("index")][u.header.stateField]=false});u.$selectItem.filter(":checked").not(this).prop("checked",false)}u.updateSelected()});e.each(this.header.events,function(t,n){if(!n){return}if(typeof n==="string"){n=s(null,n)}for(var r in n){u.$body.find("tr").each(function(){var i=e(this),s=i.find(u.options.cardView?".card-view":"td").eq(t),o=r.indexOf(" "),a=r.substring(0,o),f=r.substring(o+1),l=n[r];s.find(f).off(a).on(a,function(e){var n=i.data("index"),r=u.data[n],s=r[u.header.fields[t]];l.apply(this,[e,s,r,n])})})}});this.updateSelected();this.resetView();this.trigger("post-body")};u.prototype.initServer=function(t,n){var r=this,i={},o={pageSize:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(!this.options.url){return}if(this.options.queryParamsType==="limit"){o={search:o.searchText,sort:o.sortName,order:o.sortOrder};if(this.options.pagination){o.limit=this.options.pageSize;o.offset=this.options.pageSize*(this.options.pageNumber-1)}}i=s(this.options,this.options.queryParams,[o],i);e.extend(i,n||{});if(i===false){return}if(!t){this.$loading.show()}e.ajax(e.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:this.options.contentType==="application/json"&&this.options.method==="post"?JSON.stringify(i):i,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e){e=s(r.options,r.options.responseHandler,[e],e);var t=e;if(r.options.sidePagination==="server"){r.options.totalRows=e.total;t=e.rows}r.load(t);r.trigger("load-success",t)},error:function(e){r.trigger("load-error",e.status)},complete:function(){if(!t){r.$loading.hide()}}}))};u.prototype.getCaretHtml=function(){return['<span class="order'+(this.options.sortOrder==="desc"?"":" dropup")+'">','<span class="caret" style="margin: 10px 5px;"></span>',"</span>"].join("")};u.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t);this.$selectItem.each(function(){e(this).parents("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})};u.prototype.updateRows=function(t){var n=this;this.$selectItem.each(function(){n.data[e(this).data("index")][n.header.stateField]=t})};u.prototype.resetRows=function(){var t=this;e.each(this.data,function(e,n){t.$selectAll.prop("checked",false);t.$selectItem.prop("checked",false);n[t.header.stateField]=false})};u.prototype.trigger=function(t){var n=Array.prototype.slice.call(arguments,1);t+=".bs.table";this.options[u.EVENTS[t]].apply(this.options,n);this.$el.trigger(e.Event(t),n);this.options.onAll(t,n);this.$el.trigger(e.Event("all.bs.table"),[t,n])};u.prototype.resetHeader=function(){var t=this,n=this.$container.find(".fixed-table-header"),r=this.$container.find(".fixed-table-body"),s=this.$el.width()>r.width()?i():0;if(this.$el.is(":hidden")){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(e.proxy(this.resetHeader,this),100);return}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');setTimeout(function(){n.css({height:"37px","border-bottom":"1px solid #dddddd","margin-right":s}).find("table").css("width",t.$el.css("width")).html("").attr("class",t.$el.attr("class")).append(t.$header_);t.$header.find("th").each(function(n){t.$header_.find("th").eq(n).data(e(this).data())});t.$body.find("tr:first-child:not(.no-records-found) > *").each(function(n){t.$header_.find("div.fht-cell").eq(n).width(e(this).innerWidth())});t.$el.css("margin-top",-t.$header.height());r.off("scroll").on("scroll",function(){n.scrollLeft(e(this).scrollLeft())})})};u.prototype.toggleColumn=function(e,n,r){if(e===-1){return}this.options.columns[e].visible=n;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var i=this.$toolbar.find(".keep-open input").prop("disabled",false);if(r){i.filter(t('[value="%s"]',e)).prop("checked",n)}if(i.filter(":checked").length<=this.options.minimumCountColumns){i.filter(":checked").prop("disabled",true)}}};u.prototype.resetView=function(e){var t=this,n=this.header;if(e&&e.height){this.options.height=e.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var r=+this.$toolbar.children().outerHeight(true),i=+this.$pagination.children().outerHeight(true),s=this.options.height-r-i;this.$container.find(".fixed-table-container").css("height",s+"px")}if(this.options.cardView){t.$el.css("margin-top","0");t.$container.find(".fixed-table-container").css("padding-bottom","0");return}if(this.options.showHeader&&this.options.height){this.resetHeader()}if(this.options.height&&this.options.showHeader){this.$container.find(".fixed-table-container").css("padding-bottom","37px")}};u.prototype.getData=function(){return this.searchText||!e.isEmptyObject(this.filterColumns)?this.data:this.options.data};u.prototype.load=function(e){this.initData(e);this.initSearch();this.initPagination();this.initBody()};u.prototype.append=function(e){this.initData(e,"append");this.initSearch();this.initPagination();this.initBody(true)};u.prototype.prepend=function(e){this.initData(e,"prepend");this.initSearch();this.initPagination();this.initBody(true)};u.prototype.remove=function(t){var n=this.options.data.length,r,i;if(!t.hasOwnProperty("field")||!t.hasOwnProperty("values")){return}for(r=n-1;r>=0;r--){i=this.options.data[r];if(!i.hasOwnProperty(t.field)){return}if(e.inArray(i[t.field],t.values)!==-1){this.options.data.splice(r,1)}}if(n===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};u.prototype.insertRow=function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("row")){return}this.data.splice(e.index,0,e.row);this.initBody(true)};u.prototype.updateRow=function(t){if(!t.hasOwnProperty("index")||!t.hasOwnProperty("row")){return}e.extend(this.data[t.index],t.row);this.initBody(true)};u.prototype.mergeCells=function(t){var n=t.index,r=e.inArray(t.field,this.header.fields),i=t.rowspan||1,s=t.colspan||1,o,u,a=this.$body.find("tr"),f=a.eq(n).find("td").eq(r);if(n<0||r<0||n>=this.data.length){return}for(o=n;o<n+i;o++){for(u=r;u<r+s;u++){a.eq(o).find("td").eq(u).hide()}}f.attr("rowspan",i).attr("colspan",s).show()};u.prototype.getOptions=function(){return this.options};u.prototype.getSelections=function(){var t=this;return e.grep(this.data,function(e){return e[t.header.stateField]})};u.prototype.checkAll=function(){this.checkAll_(true)};u.prototype.uncheckAll=function(){this.checkAll_(false)};u.prototype.checkAll_=function(e){this.$selectItem.filter(":enabled").prop("checked",e);this.updateRows(e);this.updateSelected();this.trigger(e?"check-all":"uncheck-all")};u.prototype.check=function(e){this.check_(true,e)};u.prototype.uncheck=function(e){this.check_(false,e)};u.prototype.check_=function(e,n){this.$selectItem.filter(t('[data-index="%s"]',n)).prop("checked",e);this.data[n][this.header.stateField]=e;this.updateSelected()};u.prototype.destroy=function(){this.$el.insertBefore(this.$container);e(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")};u.prototype.showLoading=function(){this.$loading.show()};u.prototype.hideLoading=function(){this.$loading.hide()};u.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');if(this.options.pagination){e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown)}else{e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp)}this.updatePagination()};u.prototype.refresh=function(e){if(e&&e.url){this.options.url=e.url;this.options.pageNumber=1}this.initServer(e&&e.silent,e&&e.query)};u.prototype.showColumn=function(e){this.toggleColumn(r(this.options.columns,e),true,true)};u.prototype.hideColumn=function(e){this.toggleColumn(r(this.options.columns,e),false,true)};u.prototype.filterBy=function(t){this.filterColumns=e.isEmptyObject(t)?{}:t;this.options.pageNumber=1;this.initSearch();this.updatePagination()};u.prototype.scrollTo=function(e){var t=this.$container.find(".fixed-table-body");if(typeof e==="string"){e=e==="bottom"?t[0].scrollHeight:0}if(typeof e==="number"){t.scrollTop(e)}};u.prototype.selectPage=function(e){if(e>0&&e<=this.options.totalPages){this.options.pageNumber=e;this.updatePagination()}};u.prototype.prevPage=function(){if(this.options.pageNumber>1){this.options.pageNumber--;this.updatePagination()}};u.prototype.nextPage=function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}};u.prototype.toggleView=function(){this.options.cardView=!this.options.cardView;this.initHeader();this.initBody()};var a=["getOptions","getSelections","getData","load","append","prepend","remove","insertRow","updateRow","mergeCells","checkAll","uncheckAll","check","uncheck","refresh","resetView","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","selectPage","prevPage","nextPage","togglePagination","toggleView"];e.fn.bootstrapTable=function(t,n){var r;this.each(function(){var i=e(this),s=i.data("bootstrap.table"),o=e.extend({},u.DEFAULTS,i.data(),typeof t==="object"&&t);if(typeof t==="string"){if(e.inArray(t,a)<0){throw"Unknown method: "+t}if(!s){return}r=s[t](n);if(t==="destroy"){i.removeData("bootstrap.table")}}if(!s){i.data("bootstrap.table",s=new u(this,o))}});return typeof r==="undefined"?this:r};e.fn.bootstrapTable.Constructor=u;e.fn.bootstrapTable.defaults=u.DEFAULTS;e.fn.bootstrapTable.columnDefaults=u.COLUMN_DEFAULTS;e.fn.bootstrapTable.locales=u.LOCALES;e.fn.bootstrapTable.methods=a;e(function(){e('[data-toggle="table"]').bootstrapTable()})}(jQuery)